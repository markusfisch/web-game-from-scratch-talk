<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width"/>
<title>Test</title>
</head>
<body>
<script>

"use strict"

var loops = 10000,
	items = []

function test_for()
{
	var sum = 0

	// this is ~60 times faster than for( in )
	for( var n = 0, l = items.length; n < l; ++n )
		sum += items[n].id

	return sum
}

function test_for_in()
{
	var sum = 0

	for( var name in items )
		sum += items[name].id

	return sum
}

function run_test_for()
{
	var t = Date.now()

	for( var n = loops; n--; )
		test_for()

	return Date.now()-t
}

function run_test_for_in()
{
	var t = Date.now()

	for( var n = loops; n--; )
		test_for_in()

	return Date.now()-t
}

function init()
{
	for( var n = 1000; n--; )
		items[n] = { id: n }

	document.write(
		"time for(in): "+run_test_for_in()+" ("+test_for_in()+")"+
		"<br/>"+
		"time for(;;): "+run_test_for()+" ("+test_for()+")"+
		"<br/>"+
		"time for(in): "+run_test_for_in()+" ("+test_for_in()+")"+
		"<br/>"+
		"time for(;;): "+run_test_for()+" ("+test_for()+")"+
		"<br/>" )
}

window.onload = init

</script>
</body>
</html>
